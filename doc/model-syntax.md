# モデルの記述方法

ドメインモデルは以下の記述方法で定義する。

## データ定義

基本構文

データは data キーワードを使って定義する。

例:

```txt
data 注文 = 注文番号 AND 住所
```

### 要素の組み合わせ

* AND を使って複数の要素（属性）を結合する（積型、プロダクト型として扱う）。
* OR を使って複数の選択肢（共用体、ユニオン型）を示す。

例:

```txt
data 連絡手段 = 電話番号 OR 電子メール
```

### 合成による継承的表現

既存のデータ定義を合成して、新たなデータ型を作る。

例:

```txt
data シンプルな注文 = 注文番号 AND 商品
data 予約注文 = シンプルな注文 AND 発売日
```

### コレクション（List<…>）

例えば、複数の社員をまとめた集合は次のように表現できる。

```txt
data 社員集合 = List<社員>
```

この記法により、個々の社員ではなく社員のリストとして扱うことが明確になる。

### コメントによる補足

DSL の構文で表現しきれない制約やルールは、// を用いたコメントで記述する。
例:

```txt
// 注文番号は一意でなければならない
data 注文 = 注文番号 AND 住所
```

## 振る舞い定義

基本構文

振る舞いは behavior キーワードを使い、入力から出力への変換を示す。

例:

```txt
behavior 受注する = 注文者 AND 商品 -> 注文
```

## 外部依存の明示

外部データや状態に依存する場合、例えば外部から取得するデータは角括弧 [] で囲んで示す。

例:

```txt
behavior 部門に所属している社員を検索する = 部門 AND [List<所属>] -> List<社員>
```

これにより、通常の入力とは異なり「どこかからアクセスして取得するデータ」であることが明示される。

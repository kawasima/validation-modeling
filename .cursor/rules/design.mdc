---
description: 
globs: 
alwaysApply: false
---
## ドメイン層のグランドルール

ここでは、ドメイン層で扱うデータは業務上常にValidなものでなくてはなりません。

ドメイン層で定義される振る舞いは、原則的に全域性を満たす必要があります。

全域性とは取りうる全ての入力に対して、例外を送出することなく、出力を返すことを意味します。 - (A)

さらには振る舞いへの入力は、極力使われないものが含まれないようにする必要があります。 - (B)

(A)と(B)を満たすためには、型を分解する必要があるかもしれません。

## ドメインモデルの実装

ドメインモデルのDSLでは、データ構造が入れ子で表現されることがありますが、必ずしもその通りの型を作らなくても良いです。

特に振る舞いで使われないデータは、実装段階では型定義する必要はありません。

## 命名規約

ドメイン層の型、および振る舞いの名前は、短く簡潔で、PrefixやSuffixは不要です。

## データベースアクセス

データベースへのアクセス関数は、ドメイン層のデータを入出力とします。データベースのアクセス関数の中で適切にマッピングします。